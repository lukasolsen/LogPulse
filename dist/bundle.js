(()=>{"use strict";var t={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4,NONE:5};function e(e){return"number"==typeof e?Object.keys(t)[e]:e}function o(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var n=function(){function n(t){this.logClusterName=t||this.generateRandomName(),this.logClusterID=o(),this.logs=[]}return n.getInstance=function(t){return n.instance||(n.instance=t?new n(t):new n),n.instance},n.prototype.addLog=function(e){if(!function(e){return"number"==typeof e?Object.values(t).includes(e):Object.keys(t).includes(e.toString().toUpperCase())}(e.logLevel))throw new Error("Log level ".concat(e.logLevel," does not exist."));var o,n=(o=e.logLevel,t[o]);e.logLevel=n,this.logs.push(e)},n.prototype.getLogs=function(){return this.logs},n.prototype.getLog=function(t){return this.logs.find((function(e){return e.id===t}))},n.prototype.getRecentLog=function(){return this.logs[this.logs.length-1]},n.prototype.generateRandomName=function(){return"LogCluster-"+o()},n.prototype.generateLogData=function(t,n){return(n=n||{}).logLevel=e(n.logLevel)||e(1),{id:o(),logLevel:n.logLevel||"INFO",message:t,timestamp:Date.now()}},n}(),r={red:"#FF0000",green:"#00FF00",blue:"#0000FF",yellow:"#FFFF00",cyan:"#00FFFF",magenta:"#FF00FF",white:"#FFFFFF",black:"#000000",gray:"#808080",grey:"#808080",orange:"#FFA500",purple:"#800080",brown:"#A52A2A",maroon:"#800000",olive:"#808000",lime:"#00FF00",aqua:"#00FFFF",teal:"#008080",navy:"#000080",fuchsia:"#FF00FF",silver:"#C0C0C0",limegreen:"#32CD32",indigo:"#4B0082",violet:"#EE82EE",pink:"#FFC0CB",salmon:"#FA8072",gold:"#FFD700",beige:"#F5F5DC",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",tan:"#D2B48C",tomato:"#FF6347",turquoise:"#40E0D0",wheat:"#F5DEB3",snow:"#FFFAFA",seashell:"#FFF5EE",sandybrown:"#F4A460",royalblue:"#4169E1",rosybrown:"#BC8F8F",powderblue:"#B0E0E6",plum:"#DDA0DD",peachpuff:"#FFDAB9",papayawhip:"#FFEFD5",palevioletred:"#DB7093",paleturquoise:"#AFEEEE",palegoldenrod:"#EEE8AA",orchid:"#DA70D6"},i={bold:"font-weight: bold",italic:"font-style: italic",underline:"text-decoration: underline",strikethrough:"text-decoration: line-through",blink:"text-decoration: blink",inverse:"filter: invert(100%)",hidden:"visibility: hidden",visible:"visibility: visible",reset:"all: unset",uppercase:"text-transform: uppercase",lowercase:"text-transform: lowercase",capitalize:"text-transform: capitalize","no-wrap":"white-space: nowrap"},a=(function(){function t(){var t=this;this.colors=[],Object.keys(r).forEach((function(e){t.colors.push({name:e,hex:r[e]})}))}t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.addColor=function(t,e){if(!this.isValidHex(e))throw new Error("Hex ".concat(e," is not a valid hex."));if(this.colors.find((function(e){return e.name===t})))throw new Error("Color name ".concat(t," is already taken."));e&&this.colors.push({name:t,hex:e})},t.prototype.getColor=function(t){return this.colors.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},t.prototype.getColors=function(){return this.colors},t.prototype.isValidHex=function(t){return/^#([0-9A-F]{3}){1,2}$/i.test(t)},t.prototype.isValidPredefinedColor=function(t){return Object.keys(r).includes(t)}}(),function(){function t(){var t=this;this.modifiers=[],Object.keys(i).forEach((function(e){t.modifiers.push({func:i[e]})}))}t.prototype.addModifier=function(t,e){if(this.modifiers.find((function(e){return e.name===t})))throw new Error("Modifier name ".concat(t," is already taken."));this.modifiers.push({name:t,style:e})},t.prototype.getModifiers=function(){return this.modifiers},t.prototype.isValidModifier=function(t){return!!this.modifiers.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},t.prototype.getModifier=function(t){var e=this.modifiers.find((function(e){return e.name===t}));if(!e)throw new Error("Modifier ".concat(t," does not exist."));return e}}(),function(){function t(){this.format="%{silver}[%{teal}%{timestamp}%{silver}] %{silver}[%{uppercase}%{logLevel}%{silver}]%{reset} %{message}"}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.setFormat=function(t){this.format=t},t.prototype.getFormat=function(){return this.format},t.prototype.formatMessage=function(t){return this.format.replace(/%\{timestamp\}/g,this.formatTimestamp(t.timestamp.toString())).replace(/%\{logLevel\}/g,t.logLevel.toString()).replace(/%\{message\}/g,e(t.message).toString())},t.prototype.getCurrentTimestamp=function(){var t=new Date,e=t.getFullYear().toString().padStart(4,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),r=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0"),a=t.getSeconds().toString().padStart(2,"0");return"".concat(e,"-").concat(o,"-").concat(n," ").concat(r,":").concat(i,":").concat(a)},t.prototype.formatTimestamp=function(t){return new Date(parseInt(t)).toLocaleString()},t}());new(function(){function t(){this.logCluster=n.getInstance()}return t.prototype.log=function(t,e){e=e||{};var o=function(t){var e=function(t){for(var e,o=/%\{([a-zA-Z]+)\}/g,n=0,a={text:"",colors:[]};null!==(e=o.exec(t));){var s=e[1].toLowerCase(),l=r[s]||i[s]||"",c=e.index+e[0].length;a.text+=t.substring(n,c-e[0].length),a.text+="%c",this.colorManager.isValidPredefinedColor(s)?a.colors.push("color: "+l):a.colors.push(l),n=o.lastIndex}return a.text+=t.substring(n),a}(a.getInstance().formatMessage(t));return{text:e.text,colors:e.colors}}(this.logCluster.generateLogData(t,e)),n=o.text,s=o.colors;console.log.apply(console,function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([n],s,!1))},t}())})();